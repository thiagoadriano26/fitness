<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=480, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../Styles/master.css" type="text/css" media="screen"
        title="no title" charset="utf-8" />
    <script type="text/javascript" charset="utf-8" src="../Scripts/console.js"></script>
    <script type="text/javascript" charset="utf-8" src="../Scripts/phonegap-1.3.rc1.js"></script>
    <script type="text/javascript" charset="utf-8" src="../Scripts/jquery-1.9.1.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $('#weight').blur(function () {
                if ($("#weight").val().length <= 0) {
                    $("#weight").addClass("validate");
                } else {
                    $("#weight").removeClass("validate");
                }
            });
            $('#height').blur(function () {
                if ($("#height").val().length <= 0) {
                    $("#height").addClass("validate");
                } else {
                    $("#height").removeClass("validate");
                }
            });
        });
        var height;
        var weight;


        function Calculo() {

            if ($("#weight").val().length <= 0 || $("#height").val().length <= 0) {


                if ($("#weight").val().length <= 0) {
                    $("#weight").addClass("validate");
                }

                if ($("#height").val().length <= 0) {
                    $("#height").addClass("validate");
                }

            } else {

                $("#height").removeClass("validate");
                $("#weight").removeClass("validate");

                $("#result tr").css("color", "black");
                height = parseInt(document.getElementById("height").value);
                weight = parseInt(document.getElementById("weight").value);

                var imc = weight / Math.pow(height, 2) * 10000;

                console.log("O calculo é:" + imc);


                if (imc <= 18.4) {
                    $("#result tr:eq(1)").css("color", "green");
                }
                else if (imc >= 18.5 && imc <= 24.9) {
                    $("#result tr:eq(2)").css("color", "green");
                }
                else if (imc >= 25.0 && imc <= 29.9) {
                    $("#result tr:eq(3)").css("color", "green");
                }
                else if (imc >= 30 && imc <= 40) {
                    $("#result tr:eq(4)").css("color", "green");
                }
                else if (imc > 40.0) {
                    $("#result tr:eq(5)").css("color", "green");
                }

                $("#imcResult").text(String(imc).substring(0, 4));

            }

        }

        function Refresh() {
            $("#result tr").css("color", "black");
            document.getElementById('height').value = '';
            document.getElementById('weight').value = '';

            $("#height").removeClass("validate");
            $("#weight").removeClass("validate");
            $("#imcResult").text(" ");

        }

    </script>
</head>
<body>
    <div id="top">
        <p class="titlePage">
            Calculo de IMC</p>
    </div>
    <div id="calc1" style="height: 40%; padding: 10% 10% 10% 10%">
        <table id="Table1">
            <tr>
                <td>
                    Peso:
                </td>
                <td>
                    <input class="rounded" value="" type="text" id="weight" name="weight" />
                </td>
            </tr>
            <tr>
                <td>
                    Altura:
                </td>
                <td>
                    <input class="rounded" type="text" id="height" value="" name="height" />
                </td>
            </tr>
        </table>
    </div>
    <div id="calc2" style="height: 60%; padding: 10% 0% 10% 0%; margin: 0 0 5% 0">
        <table id="result">
            <tr id="Tr0">
                <td>
                    Resultado:
                </td>
                <td id="imcResult">
                </td>
            </tr>
            <tr id="Tr1">
                <td>
                    Abaixo do peso
                </td>
                <td>
                    menor que 18.4
                </td>
            </tr>
            <tr id="Tr2">
                <td>
                    Peso Ideal
                </td>
                <td>
                    entre 18.5 entre 24.9
                </td>
            </tr>
            <tr id="Tr3">
                <td>
                    SobrePeso
                </td>
                <td>
                    entre 25 e 29,9
                </td>
            </tr>
            <tr id="Tr5">
                <td>
                    Obesidade
                </td>
                <td>
                    entre 30 e 40
                </td>
            </tr>
            <tr id="Tr6">
                <td>
                    Obesidade mórbida
                </td>
                <td>
                    acima de 40
                </td>
            </tr>
        </table>
    </div>
    <div id="rodape">
        <p style="text-align: center">
            <img alt="Calcular" style="margin-right: 10%" onclick="Calculo()" src="../Styles/Images/Icons/appbar.check.png" />
            <img alt="Refresh" src="../styles/images/icons/appbar.refresh.png" width="90px" onclick="Refresh()" />
        </p>
    </div>
</body>
</html>
